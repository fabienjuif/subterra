{"ast":null,"code":"const produce = require('immer').default;\n\nconst createStore = require('@myrtille/core');\n\nmodule.exports = (...args) => {\n  const store = createStore(...args);\n\n  store.mutate = callback => {\n    store.setState(produce(store.getState(), draft => {\n      callback(draft);\n    }));\n  };\n\n  return store;\n};","map":{"version":3,"sources":["/home/fabienjuif/work/subterra/node_modules/@myrtille/mutate/index.js"],"names":["produce","require","default","createStore","module","exports","args","store","mutate","callback","setState","getState","draft"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAAjC;;AACA,MAAMC,WAAW,GAAGF,OAAO,CAAC,gBAAD,CAA3B;;AAEAG,MAAM,CAACC,OAAP,GAAiB,CAAC,GAAGC,IAAJ,KAAa;AAC5B,QAAMC,KAAK,GAAGJ,WAAW,CAAC,GAAGG,IAAJ,CAAzB;;AAEAC,EAAAA,KAAK,CAACC,MAAN,GAAgBC,QAAD,IAAc;AAC3BF,IAAAA,KAAK,CAACG,QAAN,CAAeV,OAAO,CAACO,KAAK,CAACI,QAAN,EAAD,EAAoBC,KAAD,IAAW;AAAEH,MAAAA,QAAQ,CAACG,KAAD,CAAR;AAAiB,KAAjD,CAAtB;AACD,GAFD;;AAIA,SAAOL,KAAP;AACD,CARD","sourcesContent":["const produce = require('immer').default\nconst createStore = require('@myrtille/core')\n\nmodule.exports = (...args) => {\n  const store = createStore(...args)\n\n  store.mutate = (callback) => {\n    store.setState(produce(store.getState(), (draft) => { callback(draft) }))\n  }\n\n  return store\n}\n"]},"metadata":{},"sourceType":"script"}