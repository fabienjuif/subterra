{"ast":null,"code":"/* eslint-env browser */\n\n/* eslint-disable no-param-reassign */\n// https://github.com/developit/unistore/blob/master/devtools.js\nmodule.exports = store => {\n  if (typeof window === 'undefined') return store; // eslint-disable-next-line no-underscore-dangle\n\n  const extension = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n\n  if (!extension) {\n    store.devtools = null;\n    return store;\n  }\n\n  if (!store.devtools) {\n    let ignoreState = false;\n    store.devtools = extension.connect();\n    store.devtools.subscribe(message => {\n      if (message.type === 'DISPATCH' && message.state) {\n        ignoreState = true;\n        store.setState(JSON.parse(message.state));\n      } else if (message.type === 'ACTION') store.dispatch(JSON.parse(message.payload));\n    });\n    store.devtools.init(store.getState());\n    store.subscribe((_, oldState, action) => {\n      if (ignoreState) {\n        ignoreState = false;\n        return;\n      }\n\n      const actionName = action && action.type || 'ðŸ¤” UNKNOWN';\n      store.devtools.send({ ...action,\n        type: actionName\n      }, store.getState());\n    });\n  }\n\n  return store;\n};","map":{"version":3,"sources":["/home/fabienjuif/work/subterra/node_modules/@myrtille/core/devtools.js"],"names":["module","exports","store","window","extension","__REDUX_DEVTOOLS_EXTENSION__","top","devtools","ignoreState","connect","subscribe","message","type","state","setState","JSON","parse","dispatch","payload","init","getState","_","oldState","action","actionName","send"],"mappings":"AAAA;;AACA;AACA;AACAA,MAAM,CAACC,OAAP,GAAkBC,KAAD,IAAW;AAC1B,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC,OAAOD,KAAP,CADT,CAG1B;;AACA,QAAME,SAAS,GAAGD,MAAM,CAACE,4BAAP,IAAuCF,MAAM,CAACG,GAAP,CAAWD,4BAApE;;AAEA,MAAI,CAACD,SAAL,EAAgB;AACdF,IAAAA,KAAK,CAACK,QAAN,GAAiB,IAAjB;AACA,WAAOL,KAAP;AACD;;AAED,MAAI,CAACA,KAAK,CAACK,QAAX,EAAqB;AACnB,QAAIC,WAAW,GAAG,KAAlB;AAEAN,IAAAA,KAAK,CAACK,QAAN,GAAiBH,SAAS,CAACK,OAAV,EAAjB;AACAP,IAAAA,KAAK,CAACK,QAAN,CAAeG,SAAf,CAA0BC,OAAD,IAAa;AACpC,UAAIA,OAAO,CAACC,IAAR,KAAiB,UAAjB,IAA+BD,OAAO,CAACE,KAA3C,EAAkD;AAChDL,QAAAA,WAAW,GAAG,IAAd;AACAN,QAAAA,KAAK,CAACY,QAAN,CAAeC,IAAI,CAACC,KAAL,CAAWL,OAAO,CAACE,KAAnB,CAAf;AACD,OAHD,MAGO,IAAIF,OAAO,CAACC,IAAR,KAAiB,QAArB,EAA+BV,KAAK,CAACe,QAAN,CAAeF,IAAI,CAACC,KAAL,CAAWL,OAAO,CAACO,OAAnB,CAAf;AACvC,KALD;AAMAhB,IAAAA,KAAK,CAACK,QAAN,CAAeY,IAAf,CAAoBjB,KAAK,CAACkB,QAAN,EAApB;AACAlB,IAAAA,KAAK,CAACQ,SAAN,CAAgB,CAACW,CAAD,EAAIC,QAAJ,EAAcC,MAAd,KAAyB;AACvC,UAAIf,WAAJ,EAAiB;AACfA,QAAAA,WAAW,GAAG,KAAd;AACA;AACD;;AAED,YAAMgB,UAAU,GAAID,MAAM,IAAIA,MAAM,CAACX,IAAlB,IAA2B,YAA9C;AACAV,MAAAA,KAAK,CAACK,QAAN,CAAekB,IAAf,CAAoB,EAAE,GAAGF,MAAL;AAAaX,QAAAA,IAAI,EAAEY;AAAnB,OAApB,EAAqDtB,KAAK,CAACkB,QAAN,EAArD;AACD,KARD;AASD;;AAED,SAAOlB,KAAP;AACD,CAlCD","sourcesContent":["/* eslint-env browser */\n/* eslint-disable no-param-reassign */\n// https://github.com/developit/unistore/blob/master/devtools.js\nmodule.exports = (store) => {\n  if (typeof window === 'undefined') return store\n\n  // eslint-disable-next-line no-underscore-dangle\n  const extension = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__\n\n  if (!extension) {\n    store.devtools = null\n    return store\n  }\n\n  if (!store.devtools) {\n    let ignoreState = false\n\n    store.devtools = extension.connect()\n    store.devtools.subscribe((message) => {\n      if (message.type === 'DISPATCH' && message.state) {\n        ignoreState = true\n        store.setState(JSON.parse(message.state))\n      } else if (message.type === 'ACTION') store.dispatch(JSON.parse(message.payload))\n    })\n    store.devtools.init(store.getState())\n    store.subscribe((_, oldState, action) => {\n      if (ignoreState) {\n        ignoreState = false\n        return\n      }\n\n      const actionName = (action && action.type) || 'ðŸ¤” UNKNOWN'\n      store.devtools.send({ ...action, type: actionName }, store.getState())\n    })\n  }\n\n  return store\n}\n"]},"metadata":{},"sourceType":"script"}