{"ast":null,"code":"var _jsxFileName = \"/home/fabienjuif/work/subterra/packages/ui/src/screens/prepare/archetype.jsx\";\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport cn from 'classnames';\nimport { PlayerIcon } from '../../components';\nimport getSkillDescription from './getSkillDescription';\nimport classes from './archetype.module.scss';\n\nconst Archetype = ({\n  type,\n  onClick,\n  className,\n  skills\n}) => {\n  const [showSkills, setShowSkills] = useState(false);\n  const timerRef = useRef();\n  const cancelShowSkills = useCallback(() => {\n    if (timerRef.current) clearTimeout(timerRef.current);\n    setShowSkills(false);\n  }, []);\n  const showSkillsAfterDelay = useCallback(() => {\n    cancelShowSkills();\n    timerRef.current = setTimeout(() => {\n      setShowSkills(true);\n    }, 200);\n  }, [cancelShowSkills]);\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      if (timerRef.current) clearTimeout(timerRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onClick,\n    className: cn('archetype', className, classes.archetype),\n    onMouseLeave: cancelShowSkills,\n    onMouseEnter: showSkillsAfterDelay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PlayerIcon, {\n    type: type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, type), /*#__PURE__*/React.createElement(\"div\", {\n    className: cn('skills', classes.skills, {\n      [classes.show]: showSkills\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, skills.map(({\n    type\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    key: type,\n    className: cn('skill', classes.skill),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, type), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, getSkillDescription(type))))));\n};\n\nexport default Archetype;","map":{"version":3,"sources":["/home/fabienjuif/work/subterra/packages/ui/src/screens/prepare/archetype.jsx"],"names":["React","useState","useRef","useEffect","useCallback","cn","PlayerIcon","getSkillDescription","classes","Archetype","type","onClick","className","skills","showSkills","setShowSkills","timerRef","cancelShowSkills","current","clearTimeout","showSkillsAfterDelay","setTimeout","archetype","show","map","skill"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,EAA6CC,WAA7C,QAAgE,OAAhE;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,OAAP,MAAoB,yBAApB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,OAAR;AAAiBC,EAAAA,SAAjB;AAA4BC,EAAAA;AAA5B,CAAD,KAA0C;AAC1D,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAMe,QAAQ,GAAGd,MAAM,EAAvB;AAEA,QAAMe,gBAAgB,GAAGb,WAAW,CAAC,MAAM;AACzC,QAAIY,QAAQ,CAACE,OAAb,EAAsBC,YAAY,CAACH,QAAQ,CAACE,OAAV,CAAZ;AACtBH,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD,GAHmC,EAGjC,EAHiC,CAApC;AAKA,QAAMK,oBAAoB,GAAGhB,WAAW,CAAC,MAAM;AAC7Ca,IAAAA,gBAAgB;AAChBD,IAAAA,QAAQ,CAACE,OAAT,GAAmBG,UAAU,CAAC,MAAM;AAClCN,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KAF4B,EAE1B,GAF0B,CAA7B;AAGD,GALuC,EAKrC,CAACE,gBAAD,CALqC,CAAxC;AAOAd,EAAAA,SAAS,CAAC,MAAM;AACd,WAAO,MAAM;AACX;AACA,UAAIa,QAAQ,CAACE,OAAb,EAAsBC,YAAY,CAACH,QAAQ,CAACE,OAAV,CAAZ;AACvB,KAHD;AAID,GALQ,EAKN,EALM,CAAT;AAOA,sBACE;AACE,IAAA,OAAO,EAAEP,OADX;AAEE,IAAA,SAAS,EAAEN,EAAE,CAAC,WAAD,EAAcO,SAAd,EAAyBJ,OAAO,CAACc,SAAjC,CAFf;AAGE,IAAA,YAAY,EAAEL,gBAHhB;AAIE,IAAA,YAAY,EAAEG,oBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAEV,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAL,CAPF,eASE;AACE,IAAA,SAAS,EAAEL,EAAE,CAAC,QAAD,EAAWG,OAAO,CAACK,MAAnB,EAA2B;AAAE,OAACL,OAAO,CAACe,IAAT,GAAgBT;AAAlB,KAA3B,CADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGD,MAAM,CAACW,GAAP,CAAW,CAAC;AAAEd,IAAAA;AAAF,GAAD,kBACV;AAAK,IAAA,GAAG,EAAEA,IAAV;AAAgB,IAAA,SAAS,EAAEL,EAAE,CAAC,OAAD,EAAUG,OAAO,CAACiB,KAAlB,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKf,IAAL,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIH,mBAAmB,CAACG,IAAD,CAAvB,CAFF,CADD,CAHH,CATF,CADF;AAsBD,CA7CD;;AA+CA,eAAeD,SAAf","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react'\nimport cn from 'classnames'\nimport { PlayerIcon } from '../../components'\nimport getSkillDescription from './getSkillDescription'\nimport classes from './archetype.module.scss'\n\nconst Archetype = ({ type, onClick, className, skills }) => {\n  const [showSkills, setShowSkills] = useState(false)\n  const timerRef = useRef()\n\n  const cancelShowSkills = useCallback(() => {\n    if (timerRef.current) clearTimeout(timerRef.current)\n    setShowSkills(false)\n  }, [])\n\n  const showSkillsAfterDelay = useCallback(() => {\n    cancelShowSkills()\n    timerRef.current = setTimeout(() => {\n      setShowSkills(true)\n    }, 200)\n  }, [cancelShowSkills])\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      if (timerRef.current) clearTimeout(timerRef.current)\n    }\n  }, [])\n\n  return (\n    <div\n      onClick={onClick}\n      className={cn('archetype', className, classes.archetype)}\n      onMouseLeave={cancelShowSkills}\n      onMouseEnter={showSkillsAfterDelay}\n    >\n      <PlayerIcon type={type} />\n      <h2>{type}</h2>\n\n      <div\n        className={cn('skills', classes.skills, { [classes.show]: showSkills })}\n      >\n        {skills.map(({ type }) => (\n          <div key={type} className={cn('skill', classes.skill)}>\n            <h3>{type}</h3>\n            <p>{getSkillDescription(type)}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Archetype\n"]},"metadata":{},"sourceType":"module"}